# ==============================================
# TownyCapture Configuration
# Author: Logichh (Milin)
# Discord: @milin001
# Discord support server: https://discord.gg/t96nrf7Nav
# Version: 1.1.1
# ==============================================
# 
# This configuration file contains GLOBAL plugin settings.
# Zone defaults live in zone-template.yml and are copied into zones/{zone_id}_config.yml.
# Customize per-zone settings in the generated zone config files.
#
# ==============================================

# ══════════════════════════════════════════════
# GLOBAL PLUGIN SETTINGS
# These settings apply to the entire plugin
# ══════════════════════════════════════════════

settings:
  # Whether to show capture-related chat messages globally
  show-chat-messages: true
  
  # Minimum number of players online to allow capturing (server-wide)
  min-online-players: 1

  # Automatically show capture zone boundaries to players
  auto-show-boundaries: true
  
  # Check for plugin updates from Modrinth
  check-for-updates: true
  
  # Session timeout in milliseconds (default: 1 hour)
  session-timeout: 3600000
  
  # Error throttle duration in milliseconds
  error-throttle-ms: 60000
  
  # Debug mode for detailed logging
  debug-mode: false
  
  # Auto-save interval in seconds
  auto-save-interval: 300
  
  # Maximum number of capture points allowed
  max-capture-points: 50
  
  # Maximum number of active captures allowed
  max-active-captures: 10
  
  # Active language for messages (default: "en")
  # Supports both short codes ("en", "fr") and full locales ("en_US", "fr_FR")
  # Falls back to "en" if selected language is not available
  # To change language: Create a file like "de.json", "fr.json", "es.json", "it.json", or "zh_CN.json" in /lang/ folder,
  # copy the contents of en.json, translate the values, and set language to match the filename (without .json)
  language: "en"

# Global boundary visualization settings
boundary-visuals:
  mode: "OFF" # ON, REDUCED, OFF
  on:
    interval-ticks: 10
    min-sides: 256
    sides-multiplier: 4.0
    vertical-range:
      min: -10
      max: 40
  reduced:
    interval-ticks: 30
    min-sides: 96
    sides-multiplier: 2.0
    vertical-range:
      min: -2
      max: 20

# Global sound settings
sounds:
  enabled: true
  capture-started:
    sound: "entity.wither.ambient"
    volume: 1.0
    pitch: 1.2
  capture-progress:
    sound: "block.note_block.pling"
    volume: 0.8
    pitch: 1.0
  capture-phase-started:
    sound: "entity.wither.spawn"
    volume: 1.2
    pitch: 1.0
  capture-complete:
    sound: "entity.player.levelup"
    volume: 1.5
    pitch: 1.2
  capture-failed:
    sound: "entity.ender_dragon.death"
    volume: 1.0
    pitch: 0.8
  point-reset:
    sound: "entity.experience_orb.pickup"
    volume: 1.0
    pitch: 1.0

# Global statistics settings
statistics:
  enabled: true
  auto-save-interval: 300
  command-cooldown: 300

# ══════════════════════════════════════════════
# DISCORD WEBHOOK INTEGRATION
# Send capture alerts and events to Discord
# ══════════════════════════════════════════════
discord:
  # Enable Discord webhook notifications
  enabled: false
  
  # Your Discord webhook URL
  # Get this from Discord: Server Settings → Integrations → Webhooks → New Webhook
  webhook-url: "https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN"
  
  # Use rich embeds (true) or plain text messages (false)
  use-embeds: true
  
  # Optional: Mention a role for important events (format: <@&ROLE_ID> or leave empty)
  # You can also use the raw role ID (e.g., "123456789") and it will be formatted automatically.
  # Example: "<@&123456789>" or "123456789" or "" for no mentions
  mention-role: ""
  
  # Show coordinates in alerts
  show-coordinates: true
  
  # Show reward amounts in alerts (hide for privacy if needed)
  show-rewards-amount: true
  
  # Per-zone rate limit in milliseconds (prevents spam)
  rate-limit-ms: 1000

  # Embed styling (optional)
  embed:
    # Placeholders: {server}, {plugin}, {version}
    author-name: "TownyCapture"
    author-icon: ""
    footer-text: "TownyCapture"
    footer-icon: ""
    thumbnail-url: ""
    show-timestamp: true
  
  # Individual alert toggles - enable/disable specific event notifications
  alerts:
    # Core capture events
    capture-started: true          # When a town begins capturing
    capture-completed: true        # When a capture succeeds
    capture-failed: true           # When a capture fails
    capture-cancelled: true        # When a capture is cancelled (with reason)
    
    # Reward events
    rewards-distributed: true      # When hourly/daily rewards are given
    first-capture-bonus: true      # First capture after weekly reset
    
    # Combat/gameplay events
    reinforcement-phases: false    # When defenders spawn (can be spammy!)
    player-death: true             # Deaths during captures
    
    # Admin/management events
    zone-created: true             # When zones are created
    zone-deleted: true             # When zones are deleted
    weekly-reset: true             # Weekly neutralization event
    
    # Optional statistics events
    new-records: false             # When server records are broken
    milestones: false              # Capture count milestones (10, 50, 100, etc.)

# Global anti-exploit settings
anti-exploit:
  min-point-distance: 10
  min-town-capture-cooldown: 24
  allow-capture-during-events: false

# ══════════════════════════════════════════════
# ZONE SHOP SYSTEM
# Per-zone player shops with economy integration
# ══════════════════════════════════════════════
shops:
  # Global toggle - enable/disable entire shop system
  enabled: false
  
  # Default settings for new shops (applied when creating via editor)
  defaults:
    # Who can access the shop
    # ALWAYS: Anyone can use
    # CONTROLLED_ONLY: Only players from towns controlling the zone
    # OWNER_ONLY: Only the controlling town can use it
    access-mode: "ALWAYS"
    
    # Stock system behavior
    # INFINITE: Items never run out
    # LIMITED: Items restock on a schedule
    # FINITE: Items never restock (one-time stock)
    stock-system: "INFINITE"
    
    # Shop layout/organization
    # SINGLE_PAGE: All items in one inventory (54 slots max)
    # CATEGORIES: Items organized by category
    # PAGINATED: Multiple pages of items
    layout-mode: "SINGLE_PAGE"
    
    # Pricing behavior
    # FIXED: Prices never change
    # DYNAMIC: Prices adjust based on supply/demand
    pricing-mode: "FIXED"
    
    # Restock schedule (only matters if stock-system is LIMITED)
    # HOURLY: Restock every hour
    # DAILY: Restock every 24 hours
    # WEEKLY: Restock every 7 days
    # MANUAL: Admin must manually restock with /cap shop restock
    restock-schedule: "HOURLY"
  
  # Dynamic pricing configuration (only used if pricing-mode is DYNAMIC)
  dynamic-pricing:
    # How sensitive prices are to changes (0.1 = 10% variation)
    sensitivity: 0.1
    
    # Price multiplier limits (0.5 = 50% min, 2.0 = 200% max of base price)
    min-multiplier: 0.5
    max-multiplier: 2.0
  
  # Optional filler items for empty slots in the shop GUI
  # Name and lore are always blank
  filler:
    enabled: false
    material: "BLACK_STAINED_GLASS_PANE"

# ══════════════════════════════════════════════
# Zone defaults are stored in zone-template.yml (copied on zone creation)

# GLOBAL DYNMAP SETTINGS
# These apply to all zones' Dynmap integration
# ══════════════════════════════════════════════

dynmap:
  enabled: true
  marker-set: townycapture.markerset
  marker-set-label: Capture Points
  center-marker:
    show: true
    icon: "skull"
    show-label: true
    label-format: "%name%"

# ══════════════════════════════════════════════
# GLOBAL BLUEMAP SETTINGS
# These apply to all zones' BlueMap integration
# ══════════════════════════════════════════════

bluemap:
  enabled: false
  marker-set: townycapture
  marker-set-label: Capture Points
  center-marker:
    enabled: true
    icon: "skull"
    icon-size: 16

# ══════════════════════════════════════════════
# WORLDGUARD INTEGRATION
# ══════════════════════════════════════════════

worldguard:
  prevent_damage: true
  prevent_explosions: true
  allow_item_use: true

# ══════════════════════════════════════════════
# GLOBAL LIMITS AND DEFAULTS
# ══════════════════════════════════════════════

capture-point:
  min-radius: 1
  max-radius: 10
  min-reward: 100.0
  max-reward: 10000.0
  min-cooldown: 3600000
  max-cooldown: 86400000
  min-players: 1
  max-players: 10

# Global point type labels (This has no real purpose yet other than display)
point_types:
  default: Strategic Point
  movecraft: Movecraft
  resource: Resource Node
  military: Military Base

# ══════════════════════════════════════════════
# BLOCKED COMMANDS
# Commands blocked in all capture zones
# Example:
# blocked-commands:
#   - "/home"
#   - "/spawn"
#   - "/tp"
#   - "/warp"
#   - "/tpa"
# ══════════════════════════════════════════════

blocked-commands: []

# ══════════════════════════════════════════════
# END OF CONFIGURATION FILE
